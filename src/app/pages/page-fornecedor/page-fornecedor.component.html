<crud [componente]="this" [permissao]="" titulo="Fornecedor">
    <div detalhes>

        <div class="row">
            <div class="ui-g-12" *ngIf="objetoSelecionado.id != null || objetoSelecionado.id != undefined">
                <inputText id="id" md="1" disabled="true" label="Código" [(ngModel)]="objetoSelecionado.id">
                </inputText>
            </div>

            <div class="ui-g-12 ui-md-2  mb-1">
                <label>Tipo Pessoa</label><br>
                <p-dropdown id="tipoPessoa" (onChange)="limpaCamposTipoPessoa()" [options]="pessoafisica"
                    [(ngModel)]="objetoSelecionado.pessoa.tipoPessoa"
                    [style]="{'width':'100% !important','border':'1px solid #00B5B8'}">
                </p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-4">
                <inputText id="razaoSocial" maxlength="60" md="12"
                    [label]="objetoSelecionado.pessoa.tipoPessoa == 'FISICA' ? 'Nome da Empresa': 'Razão Social'"
                    [(ngModel)]="objetoSelecionado.pessoa.nomePessoa"></inputText>
            </div>

            <div class="ui-g-12 ui-md-6">
                <inputText id="fantasia" maxlength="60" md="6" label="Fantasia"
                    [(ngModel)]="objetoSelecionado.pessoa.nomeFantasia"></inputText>
            </div>

            <div class="ui-g-12 ui-md-2">
                <inputMask id="cnpjCpf" maxlength="19" md="12" class="abc"
                    [label]="objetoSelecionado.pessoa.tipoPessoa == 'FISICA' ? 'CPF': 'CNPJ'"
                    [mask]="objetoSelecionado.pessoa.tipoPessoa == 'FISICA' ? '999.999.999-99': '99.999.999/9999-99'"
                    [(ngModel)]="objetoSelecionado.cnpjCpf"
                    [placeholder]="objetoSelecionado.pessoa.tipoPessoa == 'FISICA' ? '___.___.___-__': '__.___.___/____-__'">
                </inputMask>
            </div>

            <div class="ui-g-12 ui-md-2">
                <inputText id="ieRg" maxlength="12" md="12"
                    [label]="objetoSelecionado.pessoa.tipoPessoa == 'FISICA' ? 'RG': 'Inscrição Estadual'"
                    [(ngModel)]="objetoSelecionado.pessoa.ieRg">
                </inputText>
            </div>
            <div class="ui-g-12 ui-md-5  ">
                <inputText id="email" autocomplete="off" md="12" label="Email" maxlength="100"
                    [(ngModel)]="objetoSelecionado.email">
                </inputText>
            </div>



            <div class="ui-g-12 ui-md-12">
                <p-table [value]="listEndereco" dataKey="endereco.id" selectionMode="single" [resizableColumns]="true"
                    [scrollable]="true" scrollHeight="300px" [(selection)]="filtroSelecionado" [responsive]="false"
                    (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowUnselect($event)">
                    <ng-template pTemplate="caption">

                        <div style="position: relative;top: -5px;">

                            <button label="Incluir" (click)="listEndereco.acaoAdd()" icon="fa fa-plus" pButton></button>
                            <button label="Editar" (click)="listEndereco.acaoEdit()" icon="fa fa-edit" pButton></button>
                            <button label="Atualizar" (click)="listEndereco.acaoUpdate()" icon="pi pi-refresh" pButton></button>
                            <button label="Remover" (click)="listEndereco.acaoDelete()" icon="fa fa-trash" pButton></button>

                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th style="text-align: center;width: 40px !important;">Código</th>
                            <th style="text-align: center;width: 135px !important;">Logradouro</th>
                            <th style="text-align: center;width: 60px !important;">cep</th>
                            <th style="text-align: center;width: 80px !important;">bairro</th>
                            <th style="text-align: justify;width: 150px !important;">complemento</th>
                            <th style="text-align: justify;width: 40px !important;">numero</th>
                            <th style="text-align: center;width: 50px !important;">cidade</th>
                            <th style="text-align: center;width: 50px !important;">estado</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr [pSelectableRow]="item"
                            [title]="item.situacao=='I'?'Promoção Inativa':item.situacao=='A'?'Promoção Ativa':item.situacao=='P'?'Promoção Pendente':'Promoção Rejeitada'"
                            [ngClass]="item.situacao=='I'?'divergent':item.situacao=='A'?'corret':item.situacao=='P'?'incorret':null">

                            <td style="text-align: center;width: 70px !important;">{{item.codigo}}</td>
                            <td style="text-align: center;width: 135px !important;">{{item.logradouro}}</td>
                            <td style="text-align: center;width: 130px !important;">{{item.datafim|date:'dd/MM/yyyy'}}</td>
                            <td style="text-align: center;width: 80px !important;">{{item.codscanntech}}</td>
                            <td style="text-align: justify;width: 240px !important;">{{item.titulo}}</td>
                            <td style="text-align: justify;width: 240px !important;">{{item.descricao}}</td>
                            <td style="text-align: center;width: 120px !important;">{{item.tipoDesc}}</td>
                            <td style="text-align: center;width: 120px !important;">{{item.autor}}</td>

                        </tr>
                    </ng-template>
                </p-table>

                <div>
                    <formendereco [(objetoEnderecoSelecionado)]="objetoSelecionado"></formendereco>
                    <p-footer>
                        <button pButton icon="fa fa-check" (click)="confirmDialogAlterPassword()"
                            label="Confirmar"></button>
                        <button pButton icon="fa fa-times" (click)="closeDialogAlterPassword()"
                            label="Cancelar"></button>
                    </p-footer>
                </div>
                <!-- <p-dialog header="Alterar Senha Usuário" [(visible)]="display" [modal]="false" [responsive]="true"
                    [style]="{width: '250px'}" [minY]="70" [maximizable]="true" [baseZIndex]="10000">
                    <div class="row">
                        <formendereco [(objetoEnderecoSelecionado)]="objetoSelecionado"></formendereco>

                    </div>
                    <p-footer>
                        <button pButton icon="fa fa-check" (click)="confirmDialogAlterPassword()"
                            label="Confirmar"></button>
                        <button pButton icon="fa fa-times" (click)="closeDialogAlterPassword()"
                            label="Cancelar"></button>
                    </p-footer>
                </p-dialog> -->

            </div>
        </div>

    </div>

</crud>
